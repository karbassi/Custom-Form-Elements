/* Custom Form Elements v0.9 / http://github.com/karbassi/Custom-Form-Elements / Written by Ali Karbassi (karbassi.com) */
(function(j,n,b){function g(a){this.init.call(this,a)}g.prototype={init:function(a){this.options=b.extend({},g.options,a||{});b("<style>"+["input.",this.options.styled,"{display:none;}select.",this.options.styled,"{position:relative;width:",this.options.selectWidth,"px;opacity:0;filter:alpha(opacity=0);z-index:5;}","."+e+",."+f+"{opacity:0.5;filter:alpha(opacity=50);}"].join("")+"</style>").appendTo("head");this.repaint()},repaint:function(){var a=this;b("input."+a.options.styled+"[type=checkbox],input."+a.options.styled+"[type=radio],select."+a.options.styled).each(function(){var c=b("#"+this.id+"_cf."+a.options.uniqueClassName);c.length>0&&c.remove();c=b(this).find("option:selected").text();var d=this.type==="select-one"?"select":this.type,k='style="background-position:0 -'+a.options[d+h]*(this.checked?2:0)+'px;"',l=this.disabled?e:null,m=b(this).attr(f)?f:null;c='<span id="'+this.id+'_cf" class="'+[a.options.uniqueClassName,d,l,m].join(" ").replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"")+'"'+(d!=="select"?" "+k+" ":"")+">"+c+"</span>";b(c).insertBefore(this)});a.bind()},bind:function(){var a=this;b("span."+a.options.uniqueClassName+".checkbox:not(."+e+",."+f+"),span."+a.options.uniqueClassName+".radio:not(."+e+",."+f+")").die("mousedown mouseup").live("mousedown",function(d){a.mousedown(d,this)}).live("mouseup",function(d){a.mouseup(d,this)});var c="span."+a.options.uniqueClassName+".select:not(."+e+")+select";b(c).each(function(){b(this).parent().undelegate(c,"change").delegate(c,"change",function(){b(this).prev("span").html(b(this).find("option:selected").text().replace(/\s/g,"&nbsp;"))})});c="input."+a.options.styled;b(c).each(function(){if(!b("span#"+this.id+"_cf."+e).length){b(this).parent().undelegate(c,"change").delegate(c,"change",function(){a.reset()});b.browser.msie&&b("label[for="+this.id+"]").bind("click",function(){b("input[id="+this.htmlFor+"]")[0].checked=true;a.reset()})}})},reset:function(){var a=this;b("input."+a.options.styled).each(function(){b("#"+this.id+"_cf")[0].style[i]=!this.checked?"":"0 -"+a.options[this.type+h]*2+"px"})},mousedown:function(a,c){if(a.button===0){var d=b("#"+c.id.split("_cf").shift())[0];c.style[i]="0 -"+this.options[d.type+h]*(d.checked?3:1)+"px"}},mouseup:function(a,c){if(a.button===0){var d=b("#"+c.id.split("_cf").shift())[0];c.style[i]=d.checked&&d.type==="checkbox"?"":"0 -"+this.options[d.type+h]*2+"px";b("input[type=radio][name="+d.name+"]").not("#"+d.id).each(function(){b("#"+this.id+"_cf")[0].style[i]=""});d.checked=!d.checked;b(d).trigger("change")}}};g.options={styled:"styled",uniqueClassName:"customFormElement",checkboxHeight:12,radioHeight:11,selectWidth:161};var i="backgroundPosition",e="disabled",f="readonly",h="Height";j.CustomFormElements=g})(window,document,jQuery);